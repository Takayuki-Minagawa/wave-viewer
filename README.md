# 📊 Wave Viewer

加速度データの波形分析を行うWebアプリケーションです。

## 🎯 概要

1列の数値データ（加速度データ）を読み込み、時系列波形とフーリエスペクトルをリアルタイムで表示・分析するツールです。

## ✨ 機能

### データ入力
- CSV / TXT / DAT ファイルの読み込み
- ドラッグ＆ドロップ対応
- サンプリング周波数の設定
- ヘッダー行スキップ機能

### 波形表示
- 時系列波形グラフ（ズーム・パン対応）
- X軸: 時間 [sec]
- Y軸: 加速度 [m/s², gal, g]

### フーリエスペクトル解析
- FFT（高速フーリエ変換）による周波数分析
- 振幅スペクトル / パワースペクトル 切替
- 線形 / 対数スケール 切替
- ハニング窓関数適用

### 統計情報
- データ点数 / 継続時間
- 最大値 / 最小値
- 平均値 / 標準偏差
- RMS（二乗平均平方根）
- ピーク周波数

## 📁 ファイル構成

```
wave-viewer/
├── index.html          # メインHTML
├── css/
│   └── style.css       # スタイルシート
├── js/
│   ├── main.js         # メインロジック
│   ├── fileReader.js   # ファイル読み込み
│   ├── waveform.js     # 波形描画（Chart.js）
│   ├── fft.js          # フーリエ変換
│   └── analysis.js     # 統計分析
├── sample/
│   └── sample_data.csv # サンプルデータ
└── README.md           # このファイル
```

## 🚀 使い方

### 1. サーバーの起動

```bash
cd wave-viewer
python3 -m http.server 8080
```

### 2. ブラウザでアクセス

```
http://localhost:8080
```

### 3. データの読み込み

1. **ファイル選択**ボタンをクリック、またはドラッグ＆ドロップ
2. サンプリング周波数を設定（デフォルト: 100Hz）
3. 必要に応じてヘッダー行スキップ数を設定
4. データ単位を選択（m/s², gal, g）

### 4. 結果の確認

- **上段**: 時系列波形グラフ
- **下段**: フーリエスペクトルグラフ
- **統計情報**: 各種統計値とピーク周波数

## 📄 対応データ形式

### 入力ファイル形式
- CSV（カンマ区切り）
- TXT（タブ区切り、スペース区切り）
- DAT

### データ形式
```
# 1列の数値データ（1行1データ）
0.0000
0.3090
0.5878
0.8090
...
```

### 対応する数値形式
- 整数: `123`
- 小数: `1.234`
- 科学的表記: `1.23e-4`
- カンマ区切り: `1,234.56`

## ⚙️ 設定パラメータ

| パラメータ | 説明 | デフォルト |
|-----------|------|-----------|
| サンプリング周波数 | データの取得間隔 | 100 Hz |
| ヘッダー行スキップ | 先頭からスキップする行数 | 0 行 |
| データ単位 | 加速度の単位 | m/s² |

## 🖥️ グラフ操作

### ズーム
- マウスホイール: 拡大・縮小

### パン
- ドラッグ: グラフの移動

### リセット
- 「リセット」ボタン: 初期表示に戻る

## 🛠️ 技術スタック

- **HTML5 / CSS3 / JavaScript**（Vanilla JS）
- **Chart.js** - グラフ描画ライブラリ
- **chartjs-plugin-zoom** - ズーム・パン機能
- **FFT** - Cooley-Tukey アルゴリズム（自作実装）

## 📝 ライセンス

MIT License

## 🔧 今後の拡張予定

- [ ] フィルタリング機能（ローパス/ハイパス/バンドパス）
- [ ] 窓関数の選択（ハミング、ブラックマン等）
- [ ] データエクスポート機能
- [ ] グラフ画像保存機能
- [ ] 複数ファイルの比較表示
